<report name="Report1" caption="Report 1" description="Report Description1">
	<parameters>
		<parameter name="PRICE_LIMIT" data-type="Float"><default-value>150.0</default-value></parameter>
	</parameters>
	<variables>
		<variable name="FULL_PRODUCT_NAME" data-type="String"><expression>$F{GROUP_NAME} + "/" + $F{PRODUCT_NAME}</expression></variable>
		<variable name="GROUP_NAME_HEADER" data-type="String" reset-type="Group" reset-name="PRODUCT_GROUP"><expression>"Group: "  + $F{GROUP_NAME}</expression></variable>
		<variable name="PRICE_AVG" data-type="Float" aggregation="AVG"><expression>$F{PRICE}</expression></variable>
	</variables>
	<data-sources>
		<data-source>
			<fields>
				<field name="PRODUCT_ID" data-type="Integer"/>
				<field name="PRODUCT_NAME" data-type="String"/>
				<field name="GROUP_NAME" data-type="String"/>
				<field name="PRICE" data-type="Float"/>
			</fields>
			<query>SELECT PRODUCT_ID, PRODUCT_NAME, GROUP_NAME, PRICE FROM PRODUCT WHERE PRICE > :PRICE_LIMIT</query>
		</data-source>
	</data-sources>
	<templates>
		<template type="Table">
			<page-setup margin-left="21" margin-top="22" margin-right="23" margin-bottom="24" />
			<columns>
				<column width="100" />
				<column width="150" />
				<column width="150" />
				<column width="150" />
			</columns>
			<report-groups>
				<report-group name="PRODUCT_GROUP">
					<expression>$F{GROUP_NAME}</expression>
					<bands>
						<band type="GroupHeader">
							<rows>
								<row height="20">
									<cells>
										<cell colspan="3"><expression>"GroupHeader: "  + $F{GROUP_NAME}</expression></cell>
									</cells>
								</row>
								<row height="20">
									<cells>
										<cell colspan="3"><expression>$V{GROUP_NAME_HEADER}</expression></cell>
									</cells>
								</row>
							</rows>
						</band>
						<band type="GroupFooter">
							<rows>
								<row height="20">
									<cells>
										<cell colspan="3"><value>GroupFooter</value></cell>
									</cells>
								</row>
							</rows>
						</band>
					</bands>
				</report-group>
			</report-groups>
			<bands>
				<band type="ReportHeader">
					<rows>
						<row height="15">
							<cells>
								<cell colspan="3"><value>My Report</value></cell>
							</cells>
						</row>
						<row height="15">
							<cells>
								<cell><expression>"PRICE_LIMIT: "  + $P{PRICE_LIMIT}</expression></cell>
							</cells>
						</row>
						<row height="15">
							<cells>
								<cell><expression>"FULL_PRODUCT_NAME: "  + $V{FULL_PRODUCT_NAME}</expression></cell>
							</cells>
						</row>
					</rows>
				</band>
				<band type="ColumnHeader">
					<rows>
						<row height="30">
							<cells>
								<cell><value>Product ID</value></cell>
								<cell><value>Product Name</value></cell>
								<cell><value>Price</value></cell>
							</cells>
						</row>
					</rows>
				</band>
				<band type="Detail">
					<rows>
						<row height="20">
							<cells>
								<cell><expression>$F{PRODUCT_ID}</expression></cell>
								<cell><expression>$F{PRODUCT_NAME}</expression></cell>
								<cell format="#.00" data-type="Float"><expression>$F{PRICE}</expression></cell>
								<cell><expression>$V{FULL_PRODUCT_NAME}</expression></cell>
							</cells>
						</row>
					</rows>
				</band>
				
				<band type="ReportFooter">
					<rows>
						<row height="15">
							<cells>
								<cell><expression>"Avg Price: "  + $V{PRICE_AVG}</expression></cell>
							</cells>
						</row>
					</rows>
				</band>
				
			</bands>
		</template>
	</templates>
</report>